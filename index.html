<!DOCTYPE html>
<html>
  <head>

    <meta charset="UTF-8">
    <title>Elliptische Kurven</title>

    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/style.css">

  </head>
  <body>

    <header>

      <div class="headerMenu" onclick="Screen.close()">
        <span class="glyphicon glyphicon-remove"></span>
      </div>

      <div id="headerMenuMaxi" class="headerMenu" onclick="Screen.maximize()">
        <span class="glyphicon glyphicon-resize-full"></span>
      </div>

      <div class="headerMenu" onclick="Screen.minimize()">
        <span class="glyphicon glyphicon-minus"></span>
      </div>

    </header>

    <div class="container-fluid">
        <div id="canvascontainer" class="col-lg-8">
            <canvas id="canvas" width="600" height="600"></canvas>
        </div>
        <div class="col-lg-4">

          <label for="space">Aufteilung</label>
          <select id="space" onchange="redraw()">
            <option value="1" selected>1</option>

          </select>
<button class="btn-default" onclick="nextPrime()">next</button>
          <input id="primeinput" value="">


        </div>
    </div>

    <div class="progress" >
      <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
    </div>

    <footer>

      &copy; Masterprojekt WS17 @Andr√© Wagenknecht
    </footer>

  </body>

  <script src="node_modules/jquery/dist/jquery.js"></script>
  <script>window.$ = window.jQuery = require('jquery');</script>
  <script>require('bootstrap');</script>
  <script src="core/3rdParty/JCanvas/jcanvas.js"></script>
  <script src="core/3rdParty/Math/betterRound.js"></script>
  <script src="core/3rdParty/JCanvas/donuts.js"></script>

  <script src="core/preparer.js"></script>
  <script src="core/screen.js"></script>
  <script src="core/progress.js"></script>
  <script src="core/canvas.js"></script>
  <script src="core/primes.js"></script>
  <script src="core/rationalPoints.js"></script>

  <script>
    let count = 0;
    let prims = (new Primes(5000)).PrimeArray;

    let p = prims[0];

      function nextPrime()
      {
          count++;
          if(count < prims.length)
          {
              p = prims[count];
              $('#primeinput').val(p);
              Preparer.createSpaceSelect(p);
              redraw();
          }
      }

      function redraw()
      {
          CanvasF.createPoints(RationalPoints.generatePoints(1,1,p),p);
      }
          
      $(function()
      {
          Preparer.run();
          redraw()
      });

      $( window ).resize(function() {
          redraw()
      });

  </script>
</html>
